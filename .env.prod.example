# ============================================
# Budge Production Environment Configuration
# ============================================
#
# Copy this file to .env.prod and configure:
#   cp .env.prod.example .env.prod
#
# Then start with:
#   make prod-up
#
# Or manually:
#   docker compose -f docker-compose.prod.yml --env-file .env.prod up -d

# ============================================
# REQUIRED SETTINGS (must be changed)
# ============================================

# JWT Secret Key (REQUIRED)
# Generate with: openssl rand -base64 32
# Keep this secret and don't share it!
JWT_SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_MIN_32_CHARS

# Database Password (REQUIRED)
# Generate with: openssl rand -base64 24
POSTGRES_PASSWORD=CHANGE_THIS_TO_A_STRONG_PASSWORD

# ============================================
# NETWORK SETTINGS
# ============================================

# Port to expose the application on (default: 80)
HTTP_PORT=80

# Cookie domain - set to your domain if using a subdomain setup
# Leave empty to use the request's host (works for most setups)
# Example: COOKIE_DOMAIN=.example.com
COOKIE_DOMAIN=

# Set to false only if NOT using HTTPS (not recommended)
COOKIE_SECURE=true

# CORS origins - JSON array of allowed origins
# If running behind a reverse proxy with a different domain, add it here
# Example: CORS_ORIGINS=["https://budge.example.com"]
CORS_ORIGINS=[]

# Additional CORS origins (useful for Tailscale hostnames, etc.)
# Example: EXTRA_CORS_ORIGINS=["https://myhost.tail-scale.ts.net"]
EXTRA_CORS_ORIGINS=[]

# ============================================
# API SETTINGS
# ============================================

# Number of API workers (default: 4)
# Recommendation: 2-4 x number of CPU cores
API_WORKERS=4

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# JWT token expiration settings
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# DATABASE SETTINGS
# ============================================

# Database username (default: budge)
POSTGRES_USER=budge

# Database name (default: budge)
POSTGRES_DB=budge

# Note: POSTGRES_PASSWORD is set in the REQUIRED section above

# ============================================
# VERSION & UPDATES
# ============================================

# Pin to a specific version instead of latest (e.g., 2026.02.12)
# IMAGE_TAG=latest

# GitHub repository for update checks (fork users: change to your repo)
# GITHUB_REPO=automationator/budge
